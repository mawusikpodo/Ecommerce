{"version":3,"sources":["Context.js","withContext.js","components/Login.js","components/ProductItem.js","components/ProductList.js","components/AddProduct.js","components/CartItem.js","components/Cart.js","Data.js","App.js","serviceWorker.js","index.js"],"names":["Context","React","createContext","withContext","WrappedComponent","WithHOC","props","Consumer","context","handleChange","e","setState","target","name","value","login","state","username","password","error","this","user","to","className","type","onChange","onClick","Component","ProductItem","product","src","alt","style","textTransform","price","shortDesc","stock","addToCart","id","amount","products","length","map","index","key","initState","description","save","preventDefault","addProduct","accessLevel","onSubmit","required","rows","resize","CartItem","cartItem","cartKey","removeFromCart","cart","cartKeys","Object","keys","clearCart","checkout","users","initProducts","App","usn","pwd","data","find","u","localStorage","setItem","JSON","stringify","logout","removeItem","callback","slice","push","p","routerRef","current","history","cartItemId","createRef","getItem","parse","Provider","ref","role","aria-label","href","aria-expanded","data-target","showMenu","aria-hidden","marginLeft","exact","path","component","ProductList","Login","Cart","AddProduct","Boolean","window","location","hostname","match","ReactDOM","render","StrictMode","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister","catch","console","message"],"mappings":"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","file":"static/js/main.db980888.chunk.js","sourcesContent":["import React from \"react\";\nconst Context = React.createContext({});\nexport default Context;\n","import React from \"react\";\nimport Context from \"./Context\";\n\nconst withContext = WrappedComponent => {\n  const WithHOC = props => {\n    return (\n      <Context.Consumer>\n        {context => <WrappedComponent {...props} context={context} />}\n      </Context.Consumer>\n    );\n  };\n  WithHOC.WrappedComponent = WrappedComponent;\n  return WithHOC;\n};\n\nexport default withContext;\n","import React, { Component, Fragment } from \"react\";\nimport withContext from \"../withContext\";\nimport { Redirect } from \"react-router-dom\";\n\nclass Login extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      username: \"\",\n      password: \"\"\n    };\n  }\n  handleChange = e =>\n    this.setState({ [e.target.name]: e.target.value, error: \"\" });\n\n  login = () => {\n    const { username, password } = this.state;\n    if (!username || !password) {\n      return this.setState({ error: \"Fill all fields!\" });\n    }\n    let loggedIn = this.props.context.login(username, password);\n    if (!loggedIn) {\n      this.setState({ error: \"Invalid Credentails\" });\n    }\n  };\n\n  render() {\n    return !this.props.context.user ? (\n      <Fragment>\n        <div className=\"hero is-primary \">\n          <div className=\"hero-body container\">\n            <h4 className=\"title\">Login</h4>\n          </div>\n        </div>\n        <br />\n        <br />\n        <div className=\"columns is-mobile is-centered\">\n          <div className=\"column is-one-third\">\n            <div className=\"field\">\n              <label className=\"label\">User Name: </label>\n              <input\n                className=\"input\"\n                type=\"text\"\n                name=\"username\"\n                onChange={this.handleChange}\n              />\n            </div>\n            <div className=\"field\">\n              <label className=\"label\">Password: </label>\n              <input\n                className=\"input\"\n                type=\"password\"\n                name=\"password\"\n                onChange={this.handleChange}\n              />\n            </div>\n            {this.state.error && (\n              <div className=\"has-text-danger\">{this.state.error}</div>\n            )}\n            <div className=\"field is-clearfix\">\n              <button\n                className=\"button is-primary is-outlined is-pulled-right\"\n                onClick={this.login}\n              >\n                Submit\n              </button>\n            </div>\n          </div>\n        </div>\n      </Fragment>\n    ) : (\n      <Redirect to=\"/products\" />\n    );\n  }\n}\n\nexport default withContext(Login);\n","import React from \"react\";\n\nconst ProductItem = props => {\n  const { product } = props;\n  return (\n    <div className=\" column is-half\">\n      <div className=\"box\">\n        <div className=\"media\">\n          <div className=\"media-left\">\n            <figure className=\"image is-64x64\">\n              <img\n                src=\"https://bulma.io/images/placeholders/128x128.png\"\n                alt=\"product\"\n              />\n            </figure>\n          </div>\n          <div className=\"media-content\">\n            <b style={{ textTransform: \"capitalize\" }}>\n              {product.name}{\" \"}\n              <span className=\"tag is-primary\">${product.price}</span>\n            </b>\n            <div>{product.shortDesc}</div>\n\n            {product.stock > 0 ? (\n              <small>{product.stock + \" Available\"}</small>\n            ) : (\n              <small className=\"has-text-danger\">Out Of Stock</small>\n            )}\n            <div className=\"is-clearfix\">\n              <button\n                className=\"button is-small is-outlined is-primary   is-pulled-right\"\n                onClick={() =>\n                  props.addToCart({\n                    id: product.name,\n                    product,\n                    amount: 1\n                  })\n                }\n              >\n                Add to Cart\n              </button>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default ProductItem;\n","import React, { Fragment } from \"react\";\nimport ProductItem from \"./ProductItem\";\nimport withContext from \"../withContext\";\n\nconst ProductList = props => {\n  const { products } = props.context;\n  return (\n    <Fragment>\n      <div className=\"hero is-primary\">\n        <div className=\"hero-body container\">\n          <h4 className=\"title\">Our Products</h4>\n        </div>\n      </div>\n      <br />\n      <div className=\"container\">\n        <div className=\"column columns is-multiline\">\n          {products && products.length ? (\n            products.map((product, index) => (\n              <ProductItem\n                product={product}\n                key={index}\n                addToCart={props.context.addToCart}\n              />\n            ))\n          ) : (\n            <div className=\"column\">\n              <span className=\"title has-text-grey-light\">\n                No product found!\n              </span>\n            </div>\n          )}\n        </div>\n      </div>\n    </Fragment>\n  );\n};\n\nexport default withContext(ProductList);\n","import React, { Component, Fragment } from \"react\";\nimport withContext from \"../withContext\";\nimport { Redirect } from \"react-router-dom\";\n\nconst initState = {\n  name: \"\",\n  price: \"\",\n  stock: \"\",\n  shortDesc: \"\",\n  description: \"\"\n};\n\nclass AddProduct extends Component {\n  constructor(props) {\n    super(props);\n    this.state = initState;\n  }\n\n  save = e => {\n    e.preventDefault();\n    const { name, price, stock, shortDesc, description } = this.state;\n    if (name && price) {\n      this.props.context.addProduct(\n        {\n          name,\n          price,\n          shortDesc,\n          description,\n          stock: stock || 0\n        },\n        () => this.setState(initState)\n      );\n    } else {\n      this.setState({ error: \"Please Enter name and price\" });\n    }\n  };\n\n  handleChange = e =>\n    this.setState({ [e.target.name]: e.target.value, error: \"\" });\n\n  render() {\n    const { name, price, stock, shortDesc, description } = this.state;\n    const { user } = this.props.context;\n    return !(user && user.accessLevel < 1) ? (\n      <Redirect to=\"/\" />\n    ) : (\n      <Fragment>\n        <div className=\"hero is-primary \">\n          <div className=\"hero-body container\">\n            <h4 className=\"title\">Login</h4>\n          </div>\n        </div>\n        <br />\n        <br />\n        <form onSubmit={this.save}>\n          <div className=\"columns is-mobile is-centered\">\n            <div className=\"column is-one-third\">\n              <div className=\"field\">\n                <label className=\"label\">Product Name: </label>\n                <input\n                  className=\"input\"\n                  type=\"text\"\n                  name=\"name\"\n                  value={name}\n                  onChange={this.handleChange}\n                  required\n                />\n              </div>\n              <div className=\"field\">\n                <label className=\"label\">Price: </label>\n                <input\n                  className=\"input\"\n                  type=\"number\"\n                  name=\"price\"\n                  value={price}\n                  onChange={this.handleChange}\n                  required\n                />\n              </div>\n              <div className=\"field\">\n                <label className=\"label\">Available in Stock: </label>\n                <input\n                  className=\"input\"\n                  type=\"number\"\n                  name=\"stock\"\n                  value={stock}\n                  onChange={this.handleChange}\n                />\n              </div>\n              <div className=\"field\">\n                <label className=\"label\">Short Description: </label>\n                <input\n                  className=\"input\"\n                  type=\"text\"\n                  name=\"shortDesc\"\n                  value={shortDesc}\n                  onChange={this.handleChange}\n                />\n              </div>\n              <div className=\"field\">\n                <label className=\"label\">Description: </label>\n                <textarea\n                  className=\"textarea\"\n                  type=\"text\"\n                  rows=\"2\"\n                  style={{ resize: \"none\" }}\n                  name=\"description\"\n                  value={description}\n                  onChange={this.handleChange}\n                />\n              </div>\n              {this.state.error && (\n                <div className=\"error\">{this.state.error}</div>\n              )}\n              <div className=\"field is-clearfix\">\n                <button\n                  className=\"button is-primary is-outlined is-pulled-right\"\n                  type=\"submit\"\n                  onClick={this.save}\n                >\n                  Submit\n                </button>\n              </div>\n            </div>\n          </div>\n        </form>\n      </Fragment>\n    );\n  }\n}\n\nexport default withContext(AddProduct);\n","import React from \"react\";\n\nconst CartItem = props => {\n  const { cartItem, cartKey } = props;\n  const { product, amount } = cartItem;\n  return (\n    <div className=\" column is-half\">\n      <div className=\"box\">\n        <div className=\"media\">\n          <div className=\"media-left\">\n            <figure className=\"image is-64x64\">\n              <img\n                src=\"https://bulma.io/images/placeholders/128x128.png\"\n                alt=\"product\"\n              />\n            </figure>\n          </div>\n          <div className=\"media-content\">\n            <b style={{ textTransform: \"capitalize\" }}>\n              {product.name}{\" \"}\n              <span className=\"tag is-primary\">${product.price}</span>\n            </b>\n            <div>{product.shortDesc}</div>\n            <small>{`${amount} in cart`}</small>\n          </div>\n          <div\n            className=\"media-right\"\n            onClick={() => props.removeFromCart(cartKey)}\n          >\n            <span className=\"delete is-large\"></span>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default CartItem;\n","import React, { Fragment } from \"react\";\nimport withContext from \"../withContext\";\nimport CartItem from \"./CartItem\";\n\nconst Cart = props => {\n  const { cart } = props.context;\n  const cartKeys = Object.keys(cart || {});\n  return (\n    <Fragment>\n      <div className=\"hero is-primary\">\n        <div className=\"hero-body container\">\n          <h4 className=\"title\">My Cart</h4>\n        </div>\n      </div>\n      <br />\n      <div className=\"container\">\n        {cartKeys.length ? (\n          <div className=\"column columns is-multiline\">\n            {cartKeys.map(key => (\n              <CartItem\n                cartKey={key}\n                key={key}\n                cartItem={cart[key]}\n                removeFromCart={props.context.removeFromCart}\n              />\n            ))}\n            <div className=\"column is-12 is-clearfix\">\n              <br />\n              <div className=\"is-pulled-right\">\n                <button\n                  onClick={props.context.clearCart}\n                  className=\"button is-warning \"\n                >\n                  Clear cart\n                </button>{\" \"}\n                <button\n                  className=\"button is-success\"\n                  onClick={props.context.checkout}\n                >\n                  Checkout\n                </button>\n              </div>\n            </div>\n          </div>\n        ) : (\n          <div className=\"column\">\n            <div className=\"title has-text-grey-light\">No item in cart!</div>\n          </div>\n        )}\n      </div>\n    </Fragment>\n  );\n};\n\nexport default withContext(Cart);\n","export default {\n  users: [\n    { username: \"regular\", accessLevel: 1, password: \"password\" },\n    { username: \"admin\", accessLevel: 0, password: \"password\" }\n  ],\n  initProducts: [\n    {\n      name: \"shoes\",\n      stock: 10,\n      price: 399.99,\n      shortDesc: \"Nulla facilisi. Curabitur at lacus ac velit ornare lobortis.\",\n      description:\n        \"Cras sagittis. Praesent nec nisl a purus blandit viverra. Ut leo. Donec quam felis, ultricies nec, pellentesque eu, pretium quis, sem. Fusce a quam.\"\n    },\n    {\n      name: \"bags\",\n      stock: 20,\n      price: 299.99,\n      shortDesc: \"Nulla facilisi. Curabitur at lacus ac velit ornare lobortis.\",\n      description:\n        \"Cras sagittis. Praesent nec nisl a purus blandit viverra. Ut leo. Donec quam felis, ultricies nec, pellentesque eu, pretium quis, sem. Fusce a quam.\"\n    },\n    {\n      name: \"shirts\",\n      stock: 15,\n      price: 149.99,\n      shortDesc: \"Nulla facilisi. Curabitur at lacus ac velit ornare lobortis.\",\n      description:\n        \"Cras sagittis. Praesent nec nisl a purus blandit viverra. Ut leo. Donec quam felis, ultricies nec, pellentesque eu, pretium quis, sem. Fusce a quam.\"\n    },\n    {\n      name: \"shorts\",\n      stock: 5,\n      price: 109.99,\n      shortDesc: \"Nulla facilisi. Curabitur at lacus ac velit ornare lobortis.\",\n      description:\n        \"Cras sagittis. Praesent nec nisl a purus blandit viverra. Ut leo. Donec quam felis, ultricies nec, pellentesque eu, pretium quis, sem. Fusce a quam.\"\n    }\n  ]\n};\n","import React, { Component } from \"react\";\nimport { Switch, Route, Link, BrowserRouter as Router } from \"react-router-dom\";\nimport Login from \"./components/Login\";\nimport ProductList from \"./components/ProductList\";\nimport AddProduct from \"./components/AddProduct\";\nimport Cart from \"./components/Cart\";\nimport data from \"./Data\";\nimport Context from \"./Context\";\n\nexport default class App extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      user: null,\n      cart: {},\n      products: []\n    };\n\n    this.routerRef = React.createRef();\n  }\n  login = (usn, pwd) => {\n    let user = data.users.find(u => u.username === usn && u.password === pwd);\n    if (user) {\n      this.setState({ user });\n      localStorage.setItem(\"user\", JSON.stringify(user));\n      return true;\n    }\n    return false;\n  };\n\n  logout = e => {\n    e.preventDefault();\n    this.setState({ user: null });\n    localStorage.removeItem(\"user\");\n  };\n\n  addProduct = (product, callback) => {\n    let products = this.state.products.slice();\n    products.push(product);\n    localStorage.setItem(\"products\", JSON.stringify(products));\n    this.setState({ products }, () => callback && callback());\n  };\n\n  addToCart = cartItem => {\n    let cart = this.state.cart;\n    if (cart[cartItem.id]) {\n      cart[cartItem.id].amount += cartItem.amount;\n    } else {\n      cart[cartItem.id] = cartItem;\n    }\n    if (cart[cartItem.id].amount > cart[cartItem.id].product.stock) {\n      cart[cartItem.id].amount = cart[cartItem.id].product.stock;\n    }\n    localStorage.setItem(\"cart\", JSON.stringify(cart));\n    this.setState({ cart });\n  };\n\n  checkout = () => {\n    if (!this.state.user) {\n      this.routerRef.current.history.push(\"/login\");\n      return;\n    }\n    const cart = this.state.cart;\n    const products = this.state.products.map(p => {\n      if (cart[p.name]) {\n        p.stock = p.stock - cart[p.name].amount;\n      }\n      return p;\n    });\n    this.setState({ products });\n    this.clearCart();\n  };\n\n  removeFromCart = cartItemId => {\n    let cart = this.state.cart;\n    delete cart[cartItemId];\n    localStorage.setItem(\"cart\", JSON.stringify(cart));\n    this.setState({ cart });\n  };\n\n  clearCart = () => {\n    let cart = {};\n    localStorage.setItem(\"cart\", JSON.stringify(cart));\n    this.setState({ cart });\n  };\n\n  componentDidMount() {\n    let products = localStorage.getItem(\"products\");\n    let cart = localStorage.getItem(\"cart\");\n    let user = localStorage.getItem(\"user\");\n    products = products ? JSON.parse(products) : data.initProducts;\n    cart = cart ? JSON.parse(cart) : {};\n    user = user ? JSON.parse(user) : null;\n    this.setState({ products, user, cart });\n  }\n\n  render() {\n    return (\n      <Context.Provider\n        value={{\n          ...this.state,\n          removeFromCart: this.removeFromCart,\n          addToCart: this.addToCart,\n          login: this.login,\n          addProduct: this.addProduct,\n          clearCart: this.clearCart,\n          checkout: this.checkout\n        }}\n      >\n        <Router ref={this.routerRef}>\n          <div className=\"App\">\n            <nav\n              className=\"navbar container\"\n              role=\"navigation\"\n              aria-label=\"main navigation\"\n            >\n              <div className=\"navbar-brand\">\n                <b className=\"navbar-item is-size-4 \">MarKet.com</b>\n\n                <a\n                  href=\"/\"\n                  role=\"button\"\n                  className=\"navbar-burger burger\"\n                  aria-label=\"menu\"\n                  aria-expanded=\"false\"\n                  data-target=\"navbarBasicExample\"\n                  onClick={e => {\n                    e.preventDefault();\n                    this.setState({ showMenu: !this.state.showMenu });\n                  }}\n                >\n                  <span aria-hidden=\"true\"></span>\n                  <span aria-hidden=\"true\"></span>\n                  <span aria-hidden=\"true\"></span>\n                </a>\n              </div>\n              <div\n                className={`navbar-menu ${\n                  this.state.showMenu ? \"is-active\" : \"\"\n                }`}\n              >\n                <Link to=\"/products\" className=\"navbar-item\">\n                  Products\n                </Link>\n                {this.state.user && this.state.user.accessLevel < 1 && (\n                  <Link to=\"/add-product\" className=\"navbar-item\">\n                    Add Product\n                  </Link>\n                )}\n                <Link to=\"/cart\" className=\"navbar-item\">\n                  Cart\n                  <span\n                    className=\"tag is-primary\"\n                    style={{ marginLeft: \"5px\" }}\n                  >\n                    {Object.keys(this.state.cart).length}\n                  </span>\n                </Link>\n                {!this.state.user ? (\n                  <Link to=\"/login\" className=\"navbar-item\">\n                    Login\n                  </Link>\n                ) : (\n                  <a href=\"/\" className=\"navbar-item\" onClick={this.logout}>\n                    Logout\n                  </a>\n                )}\n              </div>\n            </nav>\n\n            <Switch>\n              <Route exact path=\"/\" component={ProductList} />\n              <Route exact path=\"/login\" component={Login} />\n              <Route exact path=\"/cart\" component={Cart} />\n              <Route exact path=\"/add-product\" component={AddProduct} />\n              <Route exact path=\"/products\" component={ProductList} />\n            </Switch>\n          </div>\n        </Router>\n      </Context.Provider>\n    );\n  }\n}\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport * as serviceWorker from \"./serviceWorker\";\nimport \"bulma/css/bulma.css\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}